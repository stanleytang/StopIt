{% extends "base.html" %}

{% block body %}
<div data-role="page" id="homepage">
  <div data-role="header" data-theme="b">
	  <h1>StopIt</h1>
	</div>
	
  <div class="map_canvas" id="stop_search_map_canvas"></div>
  
  <div class="ui-content ui-popup ui-overlay-shadow ui-corner-all ui-body-e" 
    id="stop_search_popup_instruction" data-theme="e">
    <a href="#" onclick="$('#stop_search_popup_instruction').remove();"
      data-role="button" data-theme="a" data-icon="delete"
      data-iconpos="notext" class="ui-btn-right">Close</a>
  	<p>Drag the map and tap below to search for transit stops in this region.<p>
  </div>
  
  <div data-role="footer" data-position="fixed" data-tap-toggle="false">  
    <div class="ui-grid-solo">
      <a href="#" data-role="button" data-inline="false" data-theme="c" 
        data-corners="false" onclick="stopSearchMapModule.fetchAndShowStopsInArea();">
        <span id="stop_search_text">Search Transit Stops In This Area</span>
      </a>
    </div>
  </div>
  
  <script type="text/javascript">
    var stopSearchMapModule;
    $(document).bind("pageshow", function(event, data) {
      stopSearchMapModule = new MapModule("stop_search_map_canvas");
      if (stopSearchMapModule.map) {
        google.maps.event.trigger(stopSearchMapModule.map, 'resize');
      }
    });
  </script>
</div>
{% endblock %}